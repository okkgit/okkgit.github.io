(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{316:function(s,a,n){"use strict";n.r(a);var r=n(14),e=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"golang程序热加载-gin的debug模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#golang程序热加载-gin的debug模式"}},[s._v("#")]),s._v(" golang程序热加载，gin的debug模式")]),s._v(" "),a("ul",[a("li",[s._v("简单讲就是类似flask框架的 app.run(debug=True)")]),s._v(" "),a("li",[s._v("Air能够实时监听项目的代码文件，在代码发生变更之后自动重新编译并执行")]),s._v(" "),a("li",[s._v("为了方便开发，每次修改业务，不用每次手动重启服务")]),s._v(" "),a("li",[s._v("air 使用所有项目，且不限于语言的哦")])]),s._v(" "),a("h2",{attrs:{id:"air-开源工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#air-开源工具"}},[s._v("#")]),s._v(" Air 开源工具")]),s._v(" "),a("ul",[a("li",[s._v("支持彩色日志输出")]),s._v(" "),a("li",[s._v("自定义构建二进制命令")]),s._v(" "),a("li",[s._v("支持忽略子目录")]),s._v(" "),a("li",[s._v("启动后可以监听新目录")]),s._v(" "),a("li",[s._v("构建过程友好")])]),s._v(" "),a("h2",{attrs:{id:"安装air"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装air"}},[s._v("#")]),s._v(" 安装air")]),s._v(" "),a("ul",[a("li",[s._v("首先需要配置好 GOBIN 环境变量，并放入全局 PATH")]),s._v(" "),a("li",[s._v("使用go安装")])]),s._v(" "),a("div",{staticClass:"language-go line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("go")]),s._v(" get "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cosmtrek"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("air\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"使用-air"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-air"}},[s._v("#")]),s._v(" 使用 air")]),s._v(" "),a("ul",[a("li",[s._v("在自己需要使用的工程目录下")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果不提供配置文件或文件不存在则使用默认配置")]),s._v("\nair "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" .air.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("一般建议在项目目录下创建 "),a("code",[s._v(".air.conf")]),s._v(" 文件")]),s._v(" "),a("li",[s._v("修改.air.conf文件,")]),s._v(" "),a("li",[s._v("直接运行 "),a("code",[s._v("air -c .air.conf")]),s._v(",")]),s._v(" "),a("li",[s._v("如果配置文件名字为"),a("code",[s._v(".air.conf")]),s._v(",可以直接运行"),a("code",[s._v("air")])])]),s._v(" "),a("h2",{attrs:{id:"完整的-air-conf文件模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完整的-air-conf文件模板"}},[s._v("#")]),s._v(" 完整的"),a("code",[s._v(".air.conf")]),s._v("文件模板")]),s._v(" "),a("ul",[a("li",[s._v("根据需求自行更改")])]),s._v(" "),a("div",{staticClass:"language-conf line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('# [Air](https://github.com/cosmtrek/air) TOML 格式的配置文件\n\n# 工作目录\n# 使用 . 或绝对路径，请注意 `tmp_dir` 目录必须在 `root` 目录下\nroot = "."\ntmp_dir = "tmp"\n\n[build]\n# 只需要写你平常编译使用的shell命令。你也可以使用 `make`\n# Windows平台示例: cmd = "go build -o tmp\\main.exe ."\ncmd = "go build -o ./tmp/main ."\n# 由`cmd`命令得到的二进制文件名\n# Windows平台示例：bin = "tmp\\main.exe"\nbin = "tmp/main"\n# 自定义执行程序的命令，可以添加额外的编译标识例如添加 GIN_MODE=release\n# Windows平台示例：full_bin = "tmp\\main.exe"\nfull_bin = "APP_ENV=dev APP_USER=air ./tmp/main"\n# 监听以下文件扩展名的文件.\ninclude_ext = ["go", "tpl", "tmpl", "html"]\n# 忽略这些文件扩展名或目录\nexclude_dir = ["assets", "tmp", "vendor", "frontend/node_modules"]\n# 监听以下指定目录的文件\ninclude_dir = []\n# 排除以下文件\nexclude_file = []\n# 如果文件更改过于频繁，则没有必要在每次更改时都触发构建。可以设置触发构建的延迟时间\ndelay = 1000 # ms\n# 发生构建错误时，停止运行旧的二进制文件。\nstop_on_error = true\n# air的日志文件名，该日志文件放置在你的`tmp_dir`中\nlog = "air_errors.log"\n\n[log]\n# 显示日志时间\ntime = true\n\n[color]\n# 自定义每个部分显示的颜色。如果找不到颜色，使用原始的应用程序日志。\nmain = "magenta"\nwatcher = "cyan"\nbuild = "yellow"\nrunner = "green"\n\n[misc]\n# 退出时删除tmp目录\nclean_on_exit = true\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);