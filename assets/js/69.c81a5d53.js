(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{334:function(s,a,t){"use strict";t.r(a);var e=t(13),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"资源管理方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源管理方式"}},[s._v("#")]),s._v(" 资源管理方式")]),s._v(" "),a("ul",[a("li",[s._v("命令式对象管理\n"),a("ul",[a("li",[s._v("直接使用命令行操作kubernetes")]),s._v(" "),a("li",[s._v("简单，试用测试环境，不能审计和追踪")]),s._v(" "),a("li",[s._v("一般做临时性查看工作")])])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kubectl run nginx-pod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--image")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:1.17.1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--port")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("命令式对象配置\n"),a("ul",[a("li",[s._v("通过命令和配置文件操作k8s")]),s._v(" "),a("li",[s._v("开发环境、可以审计跟踪、项目大多文件操作麻烦")])])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kubectl create/patch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" nginx-pod.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("声名式对象配置\n"),a("ul",[a("li",[s._v("apply 命令和配置文件操作k8s")]),s._v(" "),a("li",[s._v("只能能实现创建和更新操作")])])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kubectl apply "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" nginx-pod.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"命令式资源管理方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令式资源管理方式"}},[s._v("#")]),s._v(" 命令式资源管理方式")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kubectl "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("comand"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("comand: "),a("code",[s._v("kubectl --help")]),s._v(" "),a("ul",[a("li",[s._v("指定资源的操作：常用命令\n"),a("ul",[a("li",[s._v("create edit get delete patch")]),s._v(" "),a("li",[s._v("explain 展示资源文档")]),s._v(" "),a("li",[s._v("run 运行镜像")]),s._v(" "),a("li",[s._v("expose 暴露资源为service")]),s._v(" "),a("li",[s._v("describe 查看详细描述信息")]),s._v(" "),a("li",[s._v("logs 输出容器在pod中的日志")]),s._v(" "),a("li",[s._v("attch 进入运行中的容器")]),s._v(" "),a("li",[s._v("exec 执行容器中的一个命令")]),s._v(" "),a("li",[s._v("cp 在pod内外复制文件")]),s._v(" "),a("li",[s._v("rollout 管理资源的发布")]),s._v(" "),a("li",[s._v("scale 容器Pod的数量")]),s._v(" "),a("li",[s._v("autoscale 自动调整Pod的数量")]),s._v(" "),a("li",[s._v("apply 通过文件配置")]),s._v(" "),a("li",[s._v("label 更新资源上的标签")]),s._v(" "),a("li",[s._v("cluster-info 显示集群信息")]),s._v(" "),a("li",[s._v("version 查看当前Server和Client的版本")])])])])]),s._v(" "),a("li",[s._v("type:\n"),a("ul",[a("li",[s._v("通过 "),a("code",[s._v("kubectl api-resources")])]),s._v(" "),a("li",[s._v("资源类型：\n"),a("ul",[a("li",[s._v("集群级别\n"),a("ul",[a("li",[s._v("nodes no 集群节点")]),s._v(" "),a("li",[s._v("namespaces ns 隔离Pod使用")])])]),s._v(" "),a("li",[s._v("pod级别\n"),a("ul",[a("li",[s._v("pods po 容器")])])]),s._v(" "),a("li",[s._v("pod资源控制器\n"),a("ul",[a("li",[s._v("replicationcontrollers rc")]),s._v(" "),a("li",[s._v("replicasets rs")]),s._v(" "),a("li",[s._v("deployments deploy")]),s._v(" "),a("li",[s._v("daemonsets ds")]),s._v(" "),a("li",[s._v("jobs")]),s._v(" "),a("li",[s._v("cronjobs cj")]),s._v(" "),a("li",[s._v("horizontalpodautoscalers htp")]),s._v(" "),a("li",[s._v("statefulsets sts")])])]),s._v(" "),a("li",[s._v("服务发现资源\n"),a("ul",[a("li",[s._v("services svc 统一pod对外接口")]),s._v(" "),a("li",[s._v("ingress ing 统一pod对外接口")])])]),s._v(" "),a("li",[s._v("存储资源\n"),a("ul",[a("li",[s._v("volumeattachments")]),s._v(" "),a("li",[s._v("persistentvolumes pv")]),s._v(" "),a("li",[s._v("persistentvolumeclaims pvc")])])]),s._v(" "),a("li",[s._v("配置资源\n"),a("ul",[a("li",[s._v("configmaps cm")]),s._v(" "),a("li",[s._v("secrets")])])]),s._v(" "),a("li",[s._v("deployment pod service")])])])])]),s._v(" "),a("li",[s._v("name:\n"),a("ul",[a("li",[s._v("资源名")])])]),s._v(" "),a("li",[s._v("flags\n"),a("ul",[a("li",[s._v("额外参数")])])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("kubectl get pod\nkubectl get pod pod_name "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" yaml "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以yaml格式显示pod信息")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[s._v("#")]),s._v(" demo")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("kubectl create ns dev\nkubectl run pods --image=nginx.1.17.1 -n dev\nkubectl get pods\nkubectl delete pods pod-name\nkubectl delete ns dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"命令式对象配置方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令式对象配置方式"}},[s._v("#")]),s._v(" 命令式对象配置方式")]),s._v(" "),a("p",[s._v("命令+yaml文件\n"),a("code",[s._v("kubectl create/patch -f nginx-pod.yaml")])]),s._v(" "),a("ul",[a("li",[s._v("nginx-pod.yaml")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 资源类型")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Namespace\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dev\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个pod")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Pod\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 描述")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 名字")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginxpod\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 所在命名空间")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dev\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 详情描述")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器使用的名字")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("containers\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器中使用的镜像")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("1.17.1\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("h2",{attrs:{id:"声名式对象配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#声名式对象配置"}},[s._v("#")]),s._v(" 声名式对象配置")]),s._v(" "),a("p",[s._v("资源存在则更新，不存在则创建\n"),a("code",[s._v("kubectl apply -f nginx-pod.yaml")])])])}),[],!1,null,null,null);a.default=n.exports}}]);